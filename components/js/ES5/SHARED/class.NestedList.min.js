if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.NestedList=function(t){"use strict";function e(t){t?a.on("click",".ogx_nested_list_item_head",function(t){var e=$(this).next(),s=$(this).parent(0).index();if(e.removeClass("ogx_nested_list_item_body_anim_in"),e.removeClass("ogx_nested_list_item_body_anim_out"),$(this).hasClass("ogx_nested_list_item_head_closed")){var i=e.data("height");e.addClass("ogx_nested_list_item_body_anim_in"),setTimeout(function(){e.css("max-height",i)},c.action_timeout),$(this).removeClass("ogx_nested_list_item_head_closed"),$(this).addClass("ogx_nested_list_item_head_open"),a.trigger(OGX.NestedList.OPEN,c.data[s])}else{var i=e.height();e.data("height",i+"px"),e.addClass("ogx_nested_list_item_body_anim_out"),setTimeout(function(){e.css("max-height","0px")},c.action_timeout),$(this).addClass("ogx_nested_list_item_head_closed"),$(this).removeClass("ogx_nested_list_item_head_open"),a.trigger(OGX.NestedList.CLOSE,c.data[s])}e.on("transitionend",function(){e.off("transitionend"),e.hasClass("ogx_nested_list_item_body_anim_in")?a.trigger(OGX.NestedList.OPENED,c.data[s]):a.trigger(OGX.NestedList.CLOSED,c.data[s])})}):a.off("click",".ogx_nested_list_item_head")}function s(){a.empty();for(var t,e,s="",i=0;i<c.data.length;i++)e="",d(c.data[i])||(e="ogx_nested_list_item_hidden"),t="ogx_nested_list_item_head_open",c.data[i].open||(t="ogx_nested_list_item_head_closed"),s+='<div class="ogx_nested_list_item '+e+'"><div class="ogx_nested_list_item_head '+t+'"><span class="ogx_nested_list_item_title">'+c.data[i].title+'</span></div><div class="ogx_nested_list_item_body"><span class="ogx_nested_list_item_content">'+c.data[i].body+"</span></div></div>";a.html(s),a.css("display","block"),setTimeout(n,c.set_heights_timeout),setTimeout(function(){a.trigger(OGX.NestedList.RENDER)},c.render_trigger_timeout)}function i(){for(var t=0;t<c.data.length;t++)d(c.data[t])?a.children(".ogx_nested_list_item:eq("+t+")").removeClass("ogx_nested_list_item_hidden"):a.children(".ogx_nested_list_item:eq("+t+")").addClass("ogx_nested_list_item_hidden")}function n(){a.find(".ogx_nested_list_item_body").each(function(t,e){var s=$(this).outerHeight(!0);$(this).data("height",s+"px"),$(this).parent(0).children(".ogx_nested_list_item_head:first").hasClass("ogx_nested_list_item_head_closed")?$(this).css("max-height","0px"):s&&$(this).css("max-height",s+"px")})}function d(t){if(t.hasOwnProperty("scopes"))for(var e=0;e<t.scopes.length;e++)if(c.scopes.indexOf(t.scopes[e])!==-1)return!0;return!1}function _(){for(var t in h)c.hasOwnProperty(t)||(c[t]=h[t]);l.el=a=$(c.container),a.addClass("ogx_nested_list")}function o(){_(),s(),c.enabled&&e(!0)}var a,l=this,h={scopes:["public"],set_heights_timeout:0,action_timeout:100,render_trigger_timeout:150,enabled:!0},c=t;this.el=null,this.setScopes=function(t){c.scopes=t,i()},this.getScopes=function(){return c.scopes},this.updateItem=function(t,e){a.find(".ogx_nested_list_item_content:nth-child("+(t+1)+")").html(e),n()},this.setData=function(t){c.data=t,s()},this.getData=function(t){return c.data},this.enable=function(){c.enabled||(c.enabled=!0,e(!0))},this.disable=function(){c.enabled&&(c.enabled=!1,e(!1))},this.destroy=function(){c.enabled&&e(!0)},o()},OGX.NestedList=function(t){"use strict";return new OGX.prototype.NestedList(t)},OGX.NestedList.OPEN="nestedListOpen",OGX.NestedList.CLOSE="nestedListClose",OGX.NestedList.OPENED="nestedListOpened",OGX.NestedList.CLOSED="nestedListClosed",OGX.NestedList.RENDER="nestedListRender";